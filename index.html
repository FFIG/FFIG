<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>FFIG by jbcoe</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>FFIG</h1>
        <p>Generate code to call C++ from other languages</p>

        <p class="view"><a href="https://github.com/jbcoe/ffig">View the Project on GitHub <small>jbcoe/ffig</small></a></p>


        <ul>
          <li><a href="https://github.com/jbcoe/ffig/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/jbcoe/ffig/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/jbcoe/ffig">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="description" class="anchor" href="#description" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Description</h1>

<p>FFIG is a Foreign Function Interface Generator.</p>

<p>This project uses libclang to read existing C++ class definitions and create
equivalent classes in other languages (primarily Python for now) and binds them
to the C++ implementation.</p>

<p>While similar to SWIG, <a href="http://www.swig.org">http://www.swig.org</a>, FFIG does not need an interface
generation language to be used nor do the bindings it generates depend on any
binary details of an interpreter. FFIG Python bindings will run on PyPy,
Python2 Python3 without requiring changes.</p>

<p>FFIG is in early development. We welcome feedback from users but would
encourage anyone looking to generate language bindings to look at SWIG.</p>

<h1>
<a id="setup-docker" class="anchor" href="#setup-docker" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setup (Docker)</h1>

<p>To run an interactive demo using Jupyter Notebook and Docker:</p>

<p><code>docker run -d -p 8888:8888 jbcoe/c-api</code></p>

<p>Navigate to <a href="http://localhost:8888">http://localhost:8888</a> in a browser.</p>

<h1>
<a id="setup-linux-and-macos" class="anchor" href="#setup-linux-and-macos" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setup (Linux and macOS)</h1>

<p>You will need libclang 3.8 and clang python bindings.</p>

<p>libclang can be installed from homebrew on mac or here: <a href="http://llvm.org/releases/">http://llvm.org/releases/</a></p>

<p>You can use pip to install python bindings for libclang:</p>

<p><code>pip install clang version==3.8</code></p>

<p>Set <code>LD_LIBRARY_PATH</code> so that libclang can be found.</p>

<p>Update submodules with <code>git submodule update --init --recursive</code>.</p>

<h1>
<a id="setup-windows" class="anchor" href="#setup-windows" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setup (Windows)</h1>

<p>Untested, minor issues expected.</p>

<h1>
<a id="using-the-api-generator" class="anchor" href="#using-the-api-generator" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using the API generator</h1>

<p>Currently little more than an extensible proof of concept, the method for running API generation is due revision.</p>

<p>For now:</p>

<p>Add code to the 'input' directory in a similar vein to the existing 'Shape.h' class and run:</p>

<p><code>./run_tests.sh</code></p>

<p>this populates 'output' with generated files and runs the simple existing tests.</p>

<p>Adding django templates to the 'templates' directory in a similar vein to the
existing templates will generate extra output files.</p>

<p>New input files and templates are picked up automatically.</p>

<h1>
<a id="output" class="anchor" href="#output" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Output</h1>

<p>The 'output' directory is populated with C++, C and Python bindings files along with a dynamic library.</p>

<p>Setting <code>LD_LIBRARY_PATH</code> so that the C-API bindings shared libraries in <code>output</code> can be found and
running the following in <code>ipython</code> will exercise the generated python bindings.</p>

<pre><code>from YOUR_BASE_CLASS_NAME import *

x = DERIVED_CLASS_NAME(CONSTRUCTOR_ARGUMENTS)
x.MEMBER_FUNCTION_1(MEMBER_FUNCTION_ARGUMENTS_1)
x.MEMBER_FUNCTION_2(MEMBER_FUNCTION_ARGUMENTS_2)
</code></pre>

<h1>
<a id="continuous-integration" class="anchor" href="#continuous-integration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Continuous integration</h1>

<p><strong>Build status (on Travis-CI):</strong> <a href="https://travis-ci.org/jbcoe/ffig"><img src="https://travis-ci.org/jbcoe/ffig.svg?branch=master" alt="Build Status"></a></p>

<h1>
<a id="issues" class="anchor" href="#issues" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Issues</h1>

<p>Please raise github issues if code cannot be generated where expected or if generated code does not behave as expected.</p>

<h1>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h1>

<p>Contributions are very welcome, please look at unassigned github issues or raise issues for suggested improvements.</p>

<h1>
<a id="attribution" class="anchor" href="#attribution" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Attribution</h1>

<p>I've made considerable use of the following in putting this together:</p>

<ul>
<li><a href="http://szelei.me/code-generator">http://szelei.me/code-generator</a></li>
<li><a href="http://blog.glehmann.net/2014/12/29/Playing-with-libclang">http://blog.glehmann.net/2014/12/29/Playing-with-libclang</a></li>
<li><a href="http://eli.thegreenplace.net/tag/llvm-clang">http://eli.thegreenplace.net/tag/llvm-clang</a></li>
</ul>

<p>Design of the python bindings is taken from clang's cindex.</p>

<ul>
<li><a href="https://github.com/llvm-mirror/clang/tree/master/bindings/python">https://github.com/llvm-mirror/clang/tree/master/bindings/python</a></li>
</ul>

<p>Mistakes are my own.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/jbcoe">jbcoe</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
