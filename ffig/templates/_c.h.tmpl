// This code was generated by FFIG <http://ffig.org>.
// Manual edits will be lost.

#pragma once

#define {{module.name}}_RC_SUCCESS 0
#define {{module.name}}_RC_FAIL 1

// FIXME: Use something nicer than _MBCS to see if we are on VS
#ifdef _MBCS
#ifdef {{class.name}}_c_EXPORTS
#define EXPORT extern "C" __declspec(dllexport)
#else
#define EXPORT extern "C" __declspec(dllimport)
#endif
#else
#define EXPORT extern "C" __attribute__((visibility("default")))
#endif

typedef const void* {{module.name}}_{{class.name}};

#ifdef __cplusplus
extern "C"
{
#endif
EXPORT void {{module.name}}_clear_error();
EXPORT const char* {{module.name}}_error();
EXPORT void {{module.name}}_{{class.name}}_dispose(const void* my{{class.name}});
{% if not class.is_abstract %}{% for method in class.constructors %}
EXPORT int {{module.name}}_{{ class.name }}_create({% for arg in method.arguments %}{{arg.type|to_c}} {{arg.name}},{% endfor %} {{module.name}}_{{class.name}}* rv); {% endfor %}{% endif %}
{% for method in class.methods %}
EXPORT int {{module.name}}_{{ class.name }}_{{method.name}}({{module.name}}_{{class.name}} my{{class.name}}{% for arg in method.arguments %}, {{arg.type|to_c}} {{arg.name}}{% endfor %}{% if not method.returns_void %}, {{method.return_type|to_c}}* rv{% endif %});
{% endfor %} {% for impl in impl_classes %} {% for method in impl.constructors %}
EXPORT int {{module.name}}_{{ impl.name }}_create({% for arg in method.arguments %}{{arg.type|to_c}} {{arg.name}},{% endfor %} {{module.name}}_{{class.name}}* rv);
{% endfor %} {% endfor %}
#ifdef __cplusplus
}
#endif
