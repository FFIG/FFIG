sudo: required

language: python

services:
  - docker

before_install:
  - if [ ${TRAVIS_PULL_REQUEST} = "false" ]; then
      git checkout $TRAVIS_BRANCH;
    else
      git checkout -b $TRAVIS_PULL_REQUEST_BRANCH;
    fi

install:
  - docker build -t ffig_cont .

script:
  - docker run -e PATH=$PATH:/home/c-api-user/.local/bin ffig_cont /bin/bash -c "cd ../ && ./run_tests.sh"
